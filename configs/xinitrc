#!/bin/sh

wal.sh &
dunst &
xcompmgr &
clipmanagerd &

switch\
    -i\
    'pactl subscribe'\
    'acpi_listen'\
    'udevadm monitor --udev --property'\
    'time.sh'\
    -o\
    'statusbar.awk'\
    'lowbat.awk'\
    -r\
    1-1 2-1 3-1 4-1\
    1-2 2-2 3-2 4-2 &

# Chequear si dbus esta corriendo arriba de este proceso viendo si existe una de las variables de entorno de dbus.
if [ -z "$DBUS_SESSION_BUS_ADDRESS" ]
then
    # Lanzar una session de dbus para este script.
    dbus-launch --sh-syntax --exit-with-session
fi

# Ejecutar daemon de gnome keyring, depende de dbus.
eval $(gnome-keyring-daemon --start)

# Exportar variable de gnome keyring.
export SSH_AUTH_SOCK

exec dwm
